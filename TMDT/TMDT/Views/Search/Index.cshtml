@model IEnumerable<TMDT.Models.SanPham>

@{
    ViewBag.Title = "Tìm kiếm";
    Layout = "~/Views/Shared/_LayoutPageMain.cshtml";
}

<style>
    .card-hover:hover {
        background-color: white;
        color: black;
        box-shadow: 3px 2px 10px gray;
    }

    .card:hover {
        cursor: pointer;
    }

    .card-text {
        color: gray;
    }

    .btn-buy {
        width: 70%;
        padding: 10px;
        margin-left: 15%;
        background-color: white;
        border: none;
        color: #EE0033;
        box-shadow: 0px 2px 15px #F24060;
        transition: all 0.3s ease 0s;
    }

        .btn-buy:hover {
            background-color: #2EE59D;
            box-shadow: 0px 15px 20px rgba(46, 229, 157, 0.4);
            border-color: rgba(46, 229, 157, 0.4);
            color: #fff;
            transform: translateY(-5px);
        }
</style>
<link href="~/Content/css/product-list.css" rel="stylesheet" />
<div class="container">
    <div class="row" style="margin:10px">
        @if (Model.Count() > 0)
        {
            foreach (var item in Model)
            {
                <div class="col-12 col-xs-4 col-md-4 col-lg-3">
                    <div class="card card-hover" style=" margin-top:20px">
                        <div class="card" onclick="location.href='@Url.Action("CT_SanPham", "SanPham",new { MaSanPham = item.MaSanPham})'">
                            <div class="image-container">
                                @if (item.NgayTao > DateTime.Now.AddDays(-14))
                                {
                                    <div class="first">
                                        <div class="d-flex justify-content-between align-items-center"> <span class="discount">New</span> </div>
                                    </div>
                                }
                                else if (item.LuotXem > 50)
                                {
                                    <div class="first">
                                        <div class="d-flex justify-content-between align-items-center"> <span class="discount">Hot</span> </div>
                                    </div>
                                }
                                <div style=" text-align: center">
                                    <img src="@item.Hinh" class="img-fluid rounded thumbnail-image" style=" height: 200px; object-fit: contain ">
                                </div>
                            </div>
                            <div class="product-detail-container p-2">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h5 class="dress-name" style="overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; ">@item.TenSanPham</h5>
                                    <div class="d-flex flex-column mb-2" style="height:36px">
                                        @if (item.GiaGiam > 0)
                                        {<span class="new-price">@item.GiaGiam</span>
                                        <p class="old-price text-right"><del>@item.GiaBan</del></p>}
                                    else
                                    {<span class="new-price">@item.GiaBan</span>}
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center pt-1">
                                    <div>
                                        <i class="bi bi-star-fill" style="color:#f0f489"></i>
                                        @if (item.SoLuotRate > 0)
                                        {<span class="rating-number">item.DiemRate/item.SoLuotRate</span>}
                                        <span class="rating-number">Chưa có đánh giá</span>
                                    </div> <span class="buy" onclick="location.href='@Url.Action("CT_SanPham", "SanPham",new { MaSanPham = item.MaSanPham})'">Mua ngay</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            }
        }
            else
            {
                <p>Không tìm thấy sản phẩm</p>
            }
    </div>
</div>


<script src="./scripts.js"></script>
